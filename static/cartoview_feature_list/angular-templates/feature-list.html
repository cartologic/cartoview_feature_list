<md-content class="map-results" ng-style="featureList.loading && {'text-align':'center'}">
    <div ng-if="featureList.loading" layout="row" layout-sm="column" layout-align="center center"
         style="margin-left:auto;margin-right:auto;padding-top: 100px;overflow: hidden" layout-align="space-around">
        <md-progress-circular md-mode="indeterminate"></md-progress-circular>
    </div>
    <div ng-if="!featureList.loading" ng-repeat="result in featureList.content.results">
        <md-list ng-show="!featureList.selected">
            <md-list-item class="map-results-header"><h4>{{ result.title }}</h4></md-list-item>
            <md-divider></md-divider>
            <md-list-item
                    ng-repeat="feature in result.features" aria-label="{{ featue }}"
                    ng-click="featureList.selectFeature(feature)">
                <p dynamic-template template="result.itemTpl" feature="feature"></p>
                <md-divider ng-if="!$last"></md-divider>
            </md-list-item>
        </md-list>
    </div>
    <div ng-if="featureList.selected" style="padding-bottom: 100px">
        <div layout="row">
            <div flex style="text-align: center;">
                <md-button class="md-icon-button" ng-click="featureList.selectFeature()" aria-label="Close">
                    <md-icon class="material-icons">arrow_back</md-icon>
                </md-button>
            </div>
        </div>
        <md-divider></md-divider>

        <cartoview-images layout-fill ng-if="featureList.selected"
                          identifier="{{ getIdentifier() }}"></cartoview-images>
        <md-divider></md-divider>
        <feature-template></feature-template>
        <cartoview-comments ng-if="featureList.selected"
                            identifier="{{ getIdentifier() }}"></cartoview-comments>
    </div>
</md-content>

